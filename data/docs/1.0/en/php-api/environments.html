<h2>Environments</h2>
<p>The environment variable is read from the variable defined in the Apache host configuration. For each environment, this variable must be defined on the relevant server.</p>
<pre data-line="3"><code class="language-apacheconf line-numbers">&lt;VirtualHost *:80&gt;

    SetEnv "APP_ENV" "local"
    ServerName myproject
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/myproject/public/
    DirectoryIndex index.php

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

&lt;/VirtualHost&gt;</code></pre>
<p>So your backend application accesses the environment variable with the php native <kbd>getEnv(&quot;APP_ENV&quot;)</kbd> function.</p>
<h3>Creating a New Environment Variable</h3>
<p>When you want to install the software on the production server, copy the <kbd>local.php.dist</kbd> file and save it as <kbd>prod.php</kbd>.</p>
<pre data-line="6"><code class="language-txt line-numbers">- config
    - autoload
        .gitignore,
        dependencies.global.php
        local.php
        local.php.dist
        mezzio.global.php
        prod.php
    .gitignore
    config.php
    container.php
    pipeline.php
    routes.php</code></pre>
<p>The default <kbd>local.php</kbd> file is as follows.</p>
<pre><code class="language-php">&lt;?php

/**
 * Development-only configuration.
 *
 * Put settings you want enabled when under development mode in this file, and
 * check it into your repository.
 *
 * Developers on your team will then automatically enable them by calling on
 * `composer development-enable`.
 */

declare(strict_types=1);

use Laminas\ConfigAggregator\ConfigAggregator;

return [
    // Toggle the configuration cache. Set this to boolean false, or remove the
    // directive, to disable configuration caching. Toggling development mode
    // will also disable it by default; clear the configuration cache using
    // `composer clear-config-cache`.
    ConfigAggregator::ENABLE_CACHE =&gt; false,

    // Enable debugging; typically used to provide debugging information within templates.
    'debug' =&gt; true,
    'token' =&gt; [ 
        // Cookie encryption
        'encryption' =&gt; [
            'iv' =&gt; '', // generate random 16 chars
            'enabled' =&gt; false, // it should be true in production environment
            'secret_key' =&gt; '',
        ],
        // Public and private keys are expected to be Base64 encoded.
        // The last non-empty line is used so that keys can be generated with
        'public_key' =&gt; '',
        // The secret keys generated by other tools may
        // need to be adjusted to match the input expected by libsodium.
        'private_key' =&gt; '',
        //
        // for strong security reason it should be less
        'session_ttl' =&gt; 15, // in minutes (TTL cannot be less then 10 minute)
        // you can reduce the time for higher security
        // for how long the token will be valid in the app.
        // in every "x" time the token will be refresh. 
        'token_validity' =&gt; 5, // in minutes
        // whether to check the IP and User Agent when the token is resolved.
        //
        'validation' =&gt; [
            'user_ip' =&gt; true,
            'user_agent' =&gt; true,
        ],
    ],
    'db' =&gt; [
        'driver'   =&gt; 'Pdo_Mysql',
        'driver_options' =&gt; [
            // PDO::ATTR_PERSISTENT =&gt; true,
            // https://www.php.net/manual/tr/mysqlinfo.concepts.buffering.php
            // 
            PDO::MYSQL_ATTR_USE_BUFFERED_QUERY =&gt; false,  // should be false
            PDO::ATTR_EMULATE_PREPARES =&gt; false,
            PDO::ATTR_STRINGIFY_FETCHES =&gt; false,
            // Enable exceptions
            PDO::ATTR_ERRMODE =&gt; PDO::ERRMODE_EXCEPTION,
        ],
        'database' =&gt; 'olobase_default',
        'hostname' =&gt; 'localhost',
        'username' =&gt; '',
        'password' =&gt; '',
        'platform' =&gt; 'Mysql',
    ],
    'redis' =&gt; [
        'host' =&gt; 'localhost',
        'port' =&gt; '6379',
        'timeout' =&gt; 60,
        'password' =&gt; '',
    ]
];</code></pre>
<p>The environment variable must be defined as <kbd>SetEnv &quot;APP_ENV&quot; &quot;prod&quot;</kbd> in the apache host file where the production server is located.</p>
<h3>Changing Environment Variable Names</h3>
<p>If you want to change the environment variable names, first you must change the names in the <kbd>config/autoload/.gitignore</kbd> file.</p>
<pre><code class="language-txt">local.php
*.local.php
production.php
prod.php
test.php
qa.php</code></pre>